{"mappings":"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","sources":["node_modules/stats.js/build/stats.min.js","example/edgeIntersect.js"],"sourcesContent":["// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","import Stats from 'stats.js';\nimport * as dat from 'dat.gui';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { acceleratedRaycast, computeBoundsTree, disposeBoundsTree, SAH } from '..';\n\nTHREE.Mesh.prototype.raycast = acceleratedRaycast;\nTHREE.BufferGeometry.prototype.computeBoundsTree = computeBoundsTree;\nTHREE.BufferGeometry.prototype.disposeBoundsTree = disposeBoundsTree;\n\nconst params = {\n\tposition: new THREE.Vector3(),\n\trotation: new THREE.Euler(),\n\tscale: new THREE.Vector3( 1, 1, 1 ),\n\tspeed: 1,\n\tdisplayMeshes: false,\n\tdistance: 1.1,\n};\n\nlet stats;\nlet scene, camera, renderer, orbitControls;\nlet mesh1, mesh2, lineGroup, line, bgLine;\nlet depth1, depth2, group1, group2;\nlet lastTime = window.performance.now();\n\ninit();\nrender();\n\nfunction init() {\n\n\tconst bgColor = 0x66093a;\n\n\t// renderer setup\n\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.setClearColor( bgColor, 1 );\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\tdocument.body.appendChild( renderer.domElement );\n\n\t// scene setup\n\tscene = new THREE.Scene();\n\tscene.fog = new THREE.Fog( 0x263238 / 2, 20, 60 );\n\n\tconst light = new THREE.DirectionalLight( 0xffffff, 0.5 );\n\tlight.position.set( 1, 1, 1 );\n\tscene.add( light );\n\tscene.add( new THREE.AmbientLight( 0xffffff, 0.4 ) );\n\n\t// geometry setup\n\tconst radius = 1;\n\tconst tube = 0.4;\n\tconst tubularSegments = 100;\n\tconst radialSegments = 40;\n\n\tconst geometry = new THREE.TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments );\n\tconst material = new THREE.MeshPhongMaterial( {\n\t\tcolor: 0xffffff,\n\t\tside: THREE.DoubleSide,\n\t\tshininess: 0.01,\n\t\tpolygonOffset: true,\n\t\tpolygonOffsetFactor: 1,\n\t\tpolygonOffsetUnits: 1,\n\t\topacity: 0.5,\n\t\tblending: THREE.CustomBlending\n\t} );\n\tconst depthMaterial = new THREE.MeshBasicMaterial( {\n\t\tpolygonOffset: true,\n\t\tpolygonOffsetFactor: 1,\n\t\tpolygonOffsetUnits: 1,\n\t\tcolorWrite: false,\n\t} );\n\n\t// const geometry = new THREE.BoxBufferGeometry();\n\n\t// const geometry = new THREE.BufferGeometry();\n\t// geometry.setFromPoints( [\n\t// \tnew THREE.Vector3( 1, 0, 0 ),\n\t// \tnew THREE.Vector3( - 1, 0, 0 ),\n\t// \tnew THREE.Vector3( 0, 1, 0 ),\n\t// ] );\n\t// geometry.computeVertexNormals();\n\tgeometry.computeBoundsTree( { maxLeafTris: 1, strategy: SAH } );\n\n\tgroup1 = new THREE.Group();\n\tmesh1 = new THREE.Mesh( geometry, material );\n\tmesh1.renderOrder = 2;\n\tdepth1 = new THREE.Mesh( geometry, depthMaterial );\n\tdepth1.renderOrder = 1;\n\tgroup1.add( depth1, mesh1 );\n\n\tgroup2 = new THREE.Group();\n\tmesh2 = new THREE.Mesh( geometry, material );\n\tmesh2.renderOrder = 2;\n\tdepth2 = new THREE.Mesh( geometry, depthMaterial );\n\tdepth2.renderOrder = 1;\n\tgroup2.add( depth2, mesh2 );\n\n\tscene.add( group1, group2 );\n\n\tconst lineGeometry = new THREE.BufferGeometry();\n\tlineGeometry.setFromPoints( [ new THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, - 1, 0 ) ] );\n\tline = new THREE.LineSegments( lineGeometry, new THREE.LineBasicMaterial( { color: 0xE91E63 } ) );\n\n\tbgLine = line.clone();\n\tbgLine.material = new THREE.LineBasicMaterial( {\n\t\tcolor: 0xE91E63,\n\t\ttransparent: true,\n\t\topacity: 0.25,\n\t\tdepthFunc: THREE.GreaterDepth,\n\t} );\n\tbgLine.renderOrder = 3;\n\n\tlineGroup = new THREE.Group();\n\tlineGroup.add( line, bgLine );\n\tscene.add( lineGroup );\n\n\t// camera setup\n\tcamera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 50 );\n\tcamera.position.set( 2, 2, 2 );\n\tcamera.far = 100;\n\tcamera.updateProjectionMatrix();\n\n\torbitControls = new OrbitControls( camera, renderer.domElement );\n\n\t// stats setup\n\tstats = new Stats();\n\tdocument.body.appendChild( stats.dom );\n\n\tconst gui = new dat.GUI();\n\tgui.add( params, 'speed', 0, 10, 0.001 );\n\tgui.add( params, 'distance', 0, 1.5, 0.001 );\n\tgui.add( params, 'displayMeshes' );\n\n\tgui.open();\n\n\twindow.addEventListener( 'resize', function () {\n\n\t\tcamera.aspect = window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\n\t}, false );\n\n}\n\nfunction render() {\n\n\trequestAnimationFrame( render );\n\n\tconst delta = window.performance.now() - lastTime;\n\tlastTime = window.performance.now();\n\n\tgroup1.position.y = - params.distance;\n\tgroup1.rotation.x -= delta * 3 * 0.0001 * params.speed * 0.5;\n\tgroup1.rotation.y -= delta * 1 * 0.0001 * params.speed * 0.5;\n\tgroup1.rotation.z -= delta * 2 * 0.0001 * params.speed * 0.5;\n\n\tgroup2.position.y = params.distance;\n\tgroup2.rotation.x += delta * 0.0001 * params.speed;\n\tgroup2.rotation.y += delta * 2 * 0.0001 * params.speed;\n\tgroup2.rotation.z += delta * 3 * 0.0001 * params.speed;\n\n\tscene.updateMatrixWorld( true );\n\n\tconst matrix2to1 = new THREE.Matrix4()\n\t\t.copy( mesh1.matrixWorld )\n\t\t.invert()\n\t\t.multiply( mesh2.matrixWorld );\n\n\n\tconst edge = new THREE.Line3();\n\tconst results = [];\n\tmesh1.geometry.boundsTree.bvhcast( mesh2.geometry.boundsTree, matrix2to1, {\n\n\t\tintersectsTriangles( triangle1, triangle2 ) {\n\n\t\t\tif ( triangle1.intersectsTriangle( triangle2, edge ) ) {\n\n\t\t\t\tconst { start, end } = edge;\n\t\t\t\tresults.push(\n\t\t\t\t\tstart.x,\n\t\t\t\t\tstart.y,\n\t\t\t\t\tstart.z,\n\t\t\t\t\tend.x,\n\t\t\t\t\tend.y,\n\t\t\t\t\tend.z,\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\tif ( results.length ) {\n\n\t\tconst geometry = line.geometry;\n\t\tconst posArray = geometry.attributes.position.array;\n\t\tif ( posArray.length < results.length ) {\n\n\t\t\tgeometry.dispose();\n\t\t\tgeometry.setAttribute( 'position', new THREE.BufferAttribute( new Float32Array( results ), 3, false ) );\n\n\t\t} else {\n\n\t\t\tposArray.set( results );\n\n\t\t}\n\n\t\tgeometry.setDrawRange( 0, results.length / 3 );\n\t\tgeometry.attributes.position.needsUpdate = true;\n\t\tlineGroup.position.copy( group1.position );\n\t\tlineGroup.rotation.copy( group1.rotation );\n\t\tlineGroup.scale.copy( group1.scale );\n\t\tlineGroup.visible = true;\n\n\t} else {\n\n\t\tlineGroup.visible = false;\n\n\t}\n\n\tgroup1.visible = params.displayMeshes;\n\tgroup2.visible = params.displayMeshes;\n\trenderer.render( scene, camera );\n\n\tstats.begin();\n\tstats.end();\n\n}\n\n"],"names":["f","e","$f4c59361c37dab96$exports","a","c","appendChild","dom","u","d","children","length","style","display","l","document","createElement","cssText","addEventListener","preventDefault","k","performance","Date","now","g","r","Panel","h","self","memory","t","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","this","domElement","setMode","Infinity","Math","round","window","devicePixelRatio","v","m","n","p","q","width","height","b","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","w","min","max","drawImage","define","amd","Stats","$hGT0Q","Mesh","prototype","raycast","$aBPXg","acceleratedRaycast","BufferGeometry","computeBoundsTree","disposeBoundsTree","$a1670813c0003c36$var$params","position","Vector3","rotation","Euler","scale","speed","displayMeshes","distance","$a1670813c0003c36$var$stats","$a1670813c0003c36$var$scene","$a1670813c0003c36$var$camera","$a1670813c0003c36$var$renderer","$a1670813c0003c36$var$orbitControls","$a1670813c0003c36$var$mesh1","$a1670813c0003c36$var$mesh2","$a1670813c0003c36$var$lineGroup","$a1670813c0003c36$var$line","$a1670813c0003c36$var$bgLine","$a1670813c0003c36$var$depth1","$a1670813c0003c36$var$depth2","$a1670813c0003c36$var$group1","$a1670813c0003c36$var$group2","$a1670813c0003c36$var$lastTime","WebGLRenderer","antialias","setPixelRatio","setSize","innerWidth","innerHeight","setClearColor","outputEncoding","sRGBEncoding","body","Scene","fog","Fog","light","DirectionalLight","set","add","AmbientLight","geometry","TorusKnotBufferGeometry","material","MeshPhongMaterial","color","side","DoubleSide","shininess","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","opacity","blending","CustomBlending","depthMaterial","MeshBasicMaterial","colorWrite","maxLeafTris","strategy","SAH","Group","renderOrder","lineGeometry","setFromPoints","LineSegments","LineBasicMaterial","clone","transparent","depthFunc","GreaterDepth","PerspectiveCamera","far","updateProjectionMatrix","$W2bOH","OrbitControls","$parcel$interopDefault","gui","$4Q0VG","GUI","open","aspect","$a1670813c0003c36$var$init","$a1670813c0003c36$var$render","requestAnimationFrame","delta","y","x","z","updateMatrixWorld","matrix2to1","Matrix4","copy","matrixWorld","invert","multiply","edge","Line3","results","boundsTree","bvhcast","intersectsTriangles","triangle1","triangle2","intersectsTriangle","start","push","posArray","attributes","array","dispose","setAttribute","BufferAttribute","Float32Array","setDrawRange","needsUpdate","visible","render"],"version":3,"file":"edgeIntersect.3386836d.js.map"}